{"ast":null,"code":"import _slicedToArray from\"C:/Users/Walden Light/Desktop/cwaa/cwaa/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Container,Card,Button,Row,Col,Modal,Tab}from'react-bootstrap';import{Link}from'react-router-dom';import{createUser,deleteClient}from'../utils/API';import Auth from'../utils/auth';import{useMutation,useQuery}from'@apollo/client';import{ADD_USER}from'../utils/mutations';import{removeClientId}from'../utils/localStorage';import{REMOVE_CLIENT}from'../utils/mutations';import NewClientForm from'../components/NewClientForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showClientModal=_useState2[0],setShowClientModal=_useState2[1];var _useMutation=useMutation(REMOVE_CLIENT),_useMutation2=_slicedToArray(_useMutation,2),userData=_useMutation2[0],setUserData=_useMutation2[1];// Test data for clients\nuserData.assignedClients=[{name:\"Mark Jesu\"},{name:\"Peter Meat\"},{name:\"Bob Saggott\"}];// const handleDeleteClient = async (clientId) => {\n//     const token = Auth.loggedIn() ? Auth.getToken() : null;\n//     if (!token) {\n//         return false;\n//     }\n//     try {\n//         const response = await deleteClient(clientId, token);\n//         const { data } = deleteClient();\n//         if (!response.ok) {\n//             throw new Error('something went wrong!');\n//         }\n//         const updatedUser = await response.json();\n//         setUserData(updatedUser);\n//         removeClientId(clientId);\n//     } catch (err) {\n//         console.error(err);\n//     }\n// };\ndocument.body.style.backgroundColor=\"#BCCCDC\";return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{fluid:true,className:\"p-5\",style:{color:'#F0F4F8',backgroundColor:'#84C5F4'},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex flex-wrap align-items-start justify-content-around\",children:userData.assignedClients.map(function(client){return/*#__PURE__*/_jsx(Col,{md:\"4\",children:/*#__PURE__*/_jsxs(Card,{className:\"m-3\",border:\"dark\",children:[client.image?/*#__PURE__*/_jsx(Card.Img,{src:client.image,alt:\"The cover for \".concat(client.title),variant:\"top\"}):null,/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:client.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"small\",children:[\"Writers: \",client.writers]}),/*#__PURE__*/_jsx(Card.Text,{children:client.description})]})]},client.clientId)});})}),/*#__PURE__*/_jsx(\"a\",{className:\"m-3\",onClick:function onClick(){return setShowClientModal(true);},children:\"Add New Client\"}),/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:showClientModal,onHide:function onHide(){return setShowClientModal(false);},\"aria-labelledby\":\"client-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(NewClientForm,{handleModalClose:function handleModalClose(){return setShowClientModal(false);}})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","Container","Card","Button","Row","Col","Modal","Tab","Link","createUser","deleteClient","Auth","useMutation","useQuery","ADD_USER","removeClientId","REMOVE_CLIENT","NewClientForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_useState","_useState2","_slicedToArray","showClientModal","setShowClientModal","_useMutation","_useMutation2","userData","setUserData","assignedClients","name","document","body","style","backgroundColor","children","fluid","className","color","class","map","client","md","border","image","Img","src","alt","concat","title","variant","Body","Title","writers","Text","description","clientId","onClick","size","show","onHide","Header","closeButton","handleModalClose"],"sources":["C:/Users/Walden Light/Desktop/cwaa/cwaa/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n    Container,\n    Card,\n    Button,\n    Row,\n    Col,\n    Modal,\n    Tab\n} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { createUser, deleteClient } from '../utils/API';\nimport Auth from '../utils/auth';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport { removeClientId } from '../utils/localStorage';\nimport { REMOVE_CLIENT } from '../utils/mutations';\nimport NewClientForm from '../components/NewClientForm';\n\nconst Dashboard = () => {\n\n    const [showClientModal, setShowClientModal] = useState(false);\n    const [userData, setUserData] = useMutation(REMOVE_CLIENT);\n\n    // Test data for clients\n    userData.assignedClients = [\n        {\n            name: \"Mark Jesu\"\n        },\n        {\n            name: \"Peter Meat\"\n        },\n        {\n            name: \"Bob Saggott\"\n        }\n    ]\n\n    // const handleDeleteClient = async (clientId) => {\n    //     const token = Auth.loggedIn() ? Auth.getToken() : null;\n\n    //     if (!token) {\n    //         return false;\n    //     }\n\n    //     try {\n    //         const response = await deleteClient(clientId, token);\n\n    //         const { data } = deleteClient();\n\n    //         if (!response.ok) {\n    //             throw new Error('something went wrong!');\n    //         }\n\n    //         const updatedUser = await response.json();\n    //         setUserData(updatedUser);\n    //         removeClientId(clientId);\n    //     } catch (err) {\n    //         console.error(err);\n    //     }\n    // };\n\n    document.body.style.backgroundColor = \"#BCCCDC\";\n\n    return (\n        <>\n            <div fluid className='p-5' style={{ color: '#F0F4F8', backgroundColor: '#84C5F4' }}>\n                <Container>\n                    <h1>Dashboard</h1>\n                </Container>\n            </div>\n\n            <div class=\"d-flex flex-wrap align-items-start justify-content-around\">\n\n                {userData.assignedClients.map((client) => {\n                    return (\n                        <Col md=\"4\">\n                            <Card className='m-3' key={client.clientId} border='dark'>\n                                {client.image ? <Card.Img src={client.image} alt={`The cover for ${client.title}`} variant='top' /> : null}\n                                <Card.Body>\n                                    <Card.Title>{client.name}</Card.Title>\n                                    <p className='small'>Writers: {client.writers}</p>\n                                    <Card.Text>{client.description}</Card.Text>\n                                    {/* <Button className='btn-block btn-danger' onClick={() => handleDeleteClient(client.clientId)}>\n                                        Delete this Client!\n                                    </Button> */}\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                    );\n                })}\n\n            </div>\n\n            {/* Create new client */}\n\n            <a className='m-3' onClick={() => setShowClientModal(true)}>Add New Client</a>\n\n            <Modal\n                size='lg'\n                show={showClientModal}\n                onHide={() => setShowClientModal(false)}\n                aria-labelledby='client-modal'>\n                <Modal.Header closeButton>\n                </Modal.Header>\n                <Modal.Body>\n                    <NewClientForm handleModalClose={() => setShowClientModal(false)} />\n                </Modal.Body>\n            </Modal>\n\n        </>\n    );\n};\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}