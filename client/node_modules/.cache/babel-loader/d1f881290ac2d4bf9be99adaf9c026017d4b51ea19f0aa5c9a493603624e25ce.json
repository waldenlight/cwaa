{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Walden Light\\\\Desktop\\\\cwaa\\\\cwaa\\\\client\\\\src\\\\pages\\\\Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, Card, Button, Row, Col, Form, Alert } from 'react-bootstrap';\nimport { createUser } from '../utils/API';\nimport Auth from '../utils/auth';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport { REMOVE_CLIENT } from '../utils/mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst User = () => {\n  _s();\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  // set state for form validation\n  const [validated] = useState(false);\n  // set state for alert\n  const [showAlert, setShowAlert] = useState(false);\n  const [addUser, {\n    error\n  }] = useMutation(ADD_USER);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserFormData({\n      ...userFormData,\n      [name]: value\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    // check if form has everything (as per react-bootstrap docs)\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    try {\n      const response = await createUser(userFormData);\n      if (!response.ok) {\n        throw new Error('something went wrong!');\n      }\n      const {\n        token,\n        user\n      } = await response.json();\n      console.log(user);\n      Auth.login(token);\n    } catch (err) {\n      console.error(err);\n      setShowAlert(true);\n    }\n    setUserFormData({\n      username: '',\n      email: '',\n      password: ''\n    });\n  };\n\n  // const [userData] = useQuery(REMOVE_CLIENT);\n\n  document.body.style.backgroundColor = \"#84C5F4\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        noValidate: true,\n        className: \"d-flex flex-column align-items-center w-30 py-4 px-5 mt-5\",\n        validated: validated,\n        onSubmit: handleFormSubmit,\n        style: {\n          color: '#102A43',\n          backgroundColor: '#F0F4F8',\n          borderRadius: '5px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Alert, {\n          dismissible: true,\n          onClose: () => setShowAlert(false),\n          show: showAlert,\n          variant: \"danger\",\n          children: \"Something went wrong with your signup!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            htmlFor: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Your username\",\n            name: \"username\",\n            onChange: handleInputChange,\n            value: userFormData.username,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n            type: \"invalid\",\n            children: \"Username is required!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Your email address\",\n            name: \"email\",\n            onChange: handleInputChange,\n            value: userFormData.email,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n            type: \"invalid\",\n            children: \"Email is required!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Your password\",\n            name: \"password\",\n            onChange: handleInputChange,\n            value: userFormData.password,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n            type: \"invalid\",\n            children: \"Password is required!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !(userFormData.username && userFormData.email && userFormData.password),\n          type: \"submit\",\n          variant: \"success\",\n          style: {\n            color: '#102A43',\n            backgroundColor: '#F7C948'\n          },\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(User, \"jl5TobWEYkN+ZP9ZjEGiEiiSTy0=\", false, function () {\n  return [useMutation];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useState","Container","Card","Button","Row","Col","Form","Alert","createUser","Auth","useMutation","useQuery","ADD_USER","REMOVE_CLIENT","jsxDEV","_jsxDEV","Fragment","_Fragment","User","_s","userFormData","setUserFormData","username","email","password","validated","showAlert","setShowAlert","addUser","error","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","form","currentTarget","checkValidity","stopPropagation","response","ok","Error","token","user","json","console","log","login","err","document","body","style","backgroundColor","children","className","noValidate","onSubmit","color","borderRadius","dismissible","onClose","show","variant","fileName","_jsxFileName","lineNumber","columnNumber","Group","Label","htmlFor","Control","type","placeholder","onChange","required","Feedback","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Walden Light/Desktop/cwaa/cwaa/client/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n    Container,\n    Card,\n    Button,\n    Row,\n    Col,\n    Form,\n    Alert\n} from 'react-bootstrap';\n\nimport { createUser } from '../utils/API';\nimport Auth from '../utils/auth';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport { REMOVE_CLIENT } from '../utils/mutations';\n\nconst User = () => {\n\n    // set initial form state\n    const [userFormData, setUserFormData] = useState({ username: '', email: '', password: '' });\n    // set state for form validation\n    const [validated] = useState(false);\n    // set state for alert\n    const [showAlert, setShowAlert] = useState(false);\n    const [addUser, { error }] = useMutation(ADD_USER);\n\n\n    const handleInputChange = (event) => {\n        const { name, value } = event.target;\n        setUserFormData({ ...userFormData, [name]: value });\n    };\n\n    const handleFormSubmit = async (event) => {\n        event.preventDefault();\n\n        // check if form has everything (as per react-bootstrap docs)\n        const form = event.currentTarget;\n        if (form.checkValidity() === false) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        try {\n            const response = await createUser(userFormData);\n\n            if (!response.ok) {\n                throw new Error('something went wrong!');\n            }\n\n            const { token, user } = await response.json();\n            console.log(user);\n            Auth.login(token);\n        } catch (err) {\n            console.error(err);\n            setShowAlert(true);\n        }\n\n        setUserFormData({\n            username: '',\n            email: '',\n            password: '',\n        });\n    };\n\n    // const [userData] = useQuery(REMOVE_CLIENT);\n\n    document.body.style.backgroundColor = \"#84C5F4\";\n\n    return (\n        <>\n            {/* <div fluid className='p-5' style={{ color: '#F0F4F8', backgroundColor: '#84C5F4' }}>\n                <Container>\n                    <h1>Signup</h1>\n                </Container>\n            </div> */}\n\n            <div className='d-flex justify-content-center mt-5'>\n\n                <Form noValidate className='d-flex flex-column align-items-center w-30 py-4 px-5 mt-5'\n                    validated={validated} onSubmit={handleFormSubmit} style={{ color: '#102A43', backgroundColor: '#F0F4F8', borderRadius: '5px' }}>\n                    {/* show alert if server response is bad */}\n                    <Alert dismissible onClose={() => setShowAlert(false)} show={showAlert} variant='danger'>\n                        Something went wrong with your signup!\n                    </Alert>\n\n                    <Form.Group className='mb-3'>\n                        <Form.Label htmlFor='username'>Username</Form.Label>\n                        <Form.Control\n                            type='text'\n                            placeholder='Your username'\n                            name='username'\n                            onChange={handleInputChange}\n                            value={userFormData.username}\n                            required\n                        />\n                        <Form.Control.Feedback type='invalid'>Username is required!</Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className='mb-3'>\n                        <Form.Label htmlFor='email'>Email</Form.Label>\n                        <Form.Control\n                            type='email'\n                            placeholder='Your email address'\n                            name='email'\n                            onChange={handleInputChange}\n                            value={userFormData.email}\n                            required\n                        />\n                        <Form.Control.Feedback type='invalid'>Email is required!</Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className='mb-3'>\n                        <Form.Label htmlFor='password'>Password</Form.Label>\n                        <Form.Control\n                            type='password'\n                            placeholder='Your password'\n                            name='password'\n                            onChange={handleInputChange}\n                            value={userFormData.password}\n                            required\n                        />\n                        <Form.Control.Feedback type='invalid'>Password is required!</Form.Control.Feedback>\n                    </Form.Group>\n                    <Button\n                        disabled={!(userFormData.username && userFormData.email && userFormData.password)}\n                        type='submit'\n                        variant='success'\n                        style={{ color: '#102A43', backgroundColor: '#F7C948' }}>\n                        Submit\n                    </Button>\n                </Form>\n\n            </div>\n        </>\n    );\n};\n\nexport default User;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}